# Motitasu デモンストレーション用データベース計画書

## 目的
プレゼンテーション時に相手に実際に触ってもらい、アプリケーションの全機能を体験できるデモ用データベースを作成する。

## アプリケーション機能一覧

### 1. ユーザー認証機能
- [x] ユーザー登録
- [x] ログイン・ログアウト
- [x] ユーザー情報管理

### 2. 打刻機能（Timeclock）
- [x] 出勤打刻
- [x] 休憩開始・終了打刻
- [x] 退勤打刻
- [x] リアルタイム時刻表示
- [x] 現在の作業状況表示

### 3. ダッシュボード機能
- [x] 月次勤務カレンダー表示
- [x] 月次給与サマリー
- [x] 目標達成率表示
- [x] 累計統計表示
- [x] 有給休暇情報表示
- [x] 月度切り替え機能

### 4. 有給休暇管理機能
- [x] 有給付与計算
- [x] 残日数管理
- [x] 失効予告
- [x] 出勤率に基づく自動付与判定

### 5. 伝言板機能（Bulletin Board）
- [x] メッセージ投稿
- [x] 匿名/実名投稿選択
- [x] リアクション機能（👍❤️😂😮）
- [x] ピン留め機能（12時間/24時間/1週間）
- [x] メッセージ削除
- [x] ページング表示

### 6. ランキング機能（Leaderboard）
- [x] 月次労働時間ランキング
- [x] ランキング参加/不参加選択
- [x] 同順位処理
- [x] ランキング更新機能
- [x] 参加期間制限（毎月1-10日）

## デモ用データ作成計画
### 1. Userモデルのインスタンス
1. 店長
   - email = tencho@example.com
   - password = motitasu
   - name = もちた店長
   - is_staff = true
   - hourly_wage = 0
   - hire_date = 2023/04/01
   - weekly_work_days = 6
2. アルバイト1
   - email = worker01@example.com
   - password = motitasu
   - name = 小平邦彦
   - hourly_wage = 1250
   - hire_date = 2023/10/01
   - weekly_work_days = 5
3. アルバイト2
   - email = worker02@example.com
   - password = motitasu
   - name = 広中平祐
   - hourly_wage = 1200
   - hire_date = 2024/04/01
   - weekly_work_days = 4
4. アルバイト3
   - email = worker03@example.com
   - password = motitasu
   - name = 森重文
   - hourly_wage = 1150
   - hire_date = 2024/10/01
   - weekly_work_days = 3
5. アルバイト4
   - email = worker04@example.com
   - password = motitasu
   - name = 山下真由子
   - hourly_wage = 1100
   - hire_date = 2025/04/01
   - weekly_work_days = 2
6. デモ用01
   - email = demo01@example.com
   - password = motitasu
   - name = デモ太郎
   - hourly_wage = 1200
   - hire_date = 2024/04/01
   - weekly_work_days = 4
### 2. Timeclockモデルのインスタンス
- 店長は、入社日から本日まで、毎週に所定労働日数、9-18時で労働。13-14時で休憩
- アルバイトは、入社日から本日まで、毎週に所定労働日数、15-18時で労働

### 3. PaidLeaveRecordモデルのインスタンス
- 全員入社日から本日までの判定日ごとに判定を行い、付与
- デモ用01は2025/05/01,2025/06/01に有給を使用

### 4. MonthlyTargetモデルのインスタンス
- デモ用01の2025/07,2025/08の目標を10万に設定

### 5. Messageモデルのインスタンス
1. メッセージ1
- 店長
- 1週間ピン留め
- 投稿日:本日の2日前
- "来月のシフト締め切りが今週末です。みなさん忘れないようにー！"
- show_name=true

2. メッセージ2
- アルバイト01
- 投稿日:本日の4日前
- "今日純売り上げが20万超えました！忙しかったですね。お疲れ様でした〜"

3. メッセージ3
- アルバイト02
- 投稿日:本日の6日前
- "明日オープンの方、サンドイッチの仕込み終わらなかったのでおねがします！すみません汗"

4. メッセージ4
- アルバイト03
- 投稿日:本日の8日前
- "風邪治りました！シフト変わってくださった方ありがとうございました！"
- show_name=true

5. メッセージ5
- アルバイト04
- 投稿日:本日の10日前
- "駅前のパン屋さんの新商品美味しかったです！おすすめ♪"
- show_name=false

6. メッセージ6
- デモ用01
- 投稿日:本日の12日前
- "来週から新メニューですね。楽しみです！"
- show_name=true

7. メッセージ7
- 店長
- 投稿日:本日の14日前
- "エアコンの調子が悪いので業者に連絡しました。明日修理予定です。"
- show_name=true

8. メッセージ8
- アルバイト01
- 投稿日:本日の16日前
- "今日のお客様、常連の○○さんがケーキを褒めてくださいました！嬉しい〜"
- show_name=false

### 6. Reactionモデルのインスタンス
- メッセージ1（シフト締切）：アルバイト1,2,3が👍
- メッセージ2（売上20万）：店長が👍、アルバイト2,3が😮、デモ用01が❤️
- メッセージ3（仕込み依頼）：アルバイト1が👍、店長が👍
- メッセージ4（風邪回復）：店長が❤️、アルバイト1,2が👍、デモ用01が😂
- メッセージ5（パン屋情報）：アルバイト1,3が❤️、デモ用01が👍
- メッセージ6（新メニュー）：店長が👍、アルバイト2が❤️
- メッセージ7（エアコン修理）：全員が👍
- メッセージ8（お客様の声）：店長が❤️、アルバイト2,3,4が👍、デモ用01が😂

## 機能別デモンストレーション手順

### 🎯 メインデモ用アカウント：**もちた店長** (tencho@example.com / motitasu)
> 管理者権限で全機能を体験可能。最も充実したデータを持つ。

#### A. ログイン〜ダッシュボード確認
1. **ログイン**: email: `tencho@example.com`, password: `motitasu`
2. **ダッシュボード確認**: 
   - 9月の勤務カレンダー：20日勤務、平均9時間/日
   - 月次給与：管理者のため0円表示（時給0円設定）
   - 累計統計：入社から約18ヶ月の豊富な勤務実績
   - 有給休暇：残日数とスケジュール確認
3. **月度切り替え**: 2023年4月から現在まで全ての月のデータ確認
4. **有給休暇情報**: 入社日から計算した正確な付与・残日数

#### B. 打刻機能デモ
1. **現在の状態**: 今日の勤務状況（出勤中/退勤済み）を確認
2. **打刻操作**: 
   - 出勤→休憩開始→休憩終了→退勤の一連の流れ
   - リアルタイム時刻表示
   - 勤務時間の自動計算（休憩時間控除）
3. **勤務パターン**: 9:00-18:00の標準的なフルタイム勤務

#### C. 伝言板機能フル活用
1. **メッセージ一覧確認**:
   - ピン留めメッセージ（シフト締切）が最上位表示
   - 実名・匿名混在の投稿確認
   - 投稿日時の降順表示
2. **新規投稿**:
   - フローティングアクションボタンから投稿
   - 「デモンストレーション用の投稿です。システムの動作確認中です。」
   - 名前表示オプション：ONにして実名投稿
3. **リアクション操作**:
   - 既存投稿に👍❤️😂😮のリアクション追加
   - リアクション数のリアルタイム更新
   - リアクションをクリックしてユーザー一覧表示
4. **自分の投稿管理**:
   - 三点メニューから各種操作
   - ピン留め（12時間/24時間/1週間から選択）
   - ピン留め解除
   - 投稿削除

#### D. ランキング機能確認
1. **現在順位**: 1位（120時間）で他を大きくリード
2. **ランキング詳細**: 参加者4名の労働時間と順位確認
3. **ランキング更新**: 「ランキングを更新」で最新データに更新
4. **管理者視点**: 全体の参加状況と労働時間バランス確認

### 🎬 プレゼン操作用アカウント：**デモ太郎** (demo01@example.com / motitasu)
> 参加者に実際に操作してもらう用。中程度のデータ量で操作しやすい。

#### A. 基本操作体験
1. **ログイン**: email: `demo01@example.com`, password: `motitasu`
2. **ダッシュボード**: 
   - 入社8ヶ月のデータ確認
   - 週4日勤務（パートタイム）の働き方
   - 有給使用実績：5月と6月に1日ずつ取得済み
   - 月収目標10万円の設定確認
3. **勤務パターン**: 15:00-18:00の短時間勤務（学生アルバイト想定）

#### B. 打刻体験
1. **現在状態**: 退勤済み状態から開始
2. **出勤打刻**: 実際にボタンを押して出勤操作
3. **時間経過**: リアルタイムで勤務時間の増加確認
4. **休憩操作**: 休憩開始→終了の流れを体験
5. **退勤打刻**: 一日の勤務完了

#### C. 伝言板投稿体験
1. **匿名投稿**: 「デモ機能のテストで投稿しています」（show_name=false）
2. **実名投稿**: 「デモ太郎です。よろしくお願いします！」（show_name=true）
3. **リアクション**: 既存の投稿にリアクション追加
4. **投稿確認**: 自分の投稿が一覧に追加されることを確認

#### D. ランキング体験
1. **現在順位**: 4位（60時間）を確認
2. **詳細確認**: 自分より上位の順位とその差を確認
3. **更新操作**: ランキング更新ボタンで最新状況に更新

### 🔄 サブデモ用アカウント：**小平邦彦** (worker01@example.com / motitasu)
> 別の視点からの機能確認用。入社1年のベテランアルバイト。

#### A. 異なる勤務パターン確認
1. **ログイン**: email: `worker01@example.com`, password: `motitasu`
2. **勤務実績**: 
   - 週5日勤務の安定したパターン
   - 15:00-18:00の夕方勤務
   - 入社1年で有給付与済み
3. **ランキング**: 2位（80時間）の中堅ポジション

#### B. 有給休暇状況
1. **付与状況**: 入社半年後と1年後の2回付与
2. **使用実績**: 使用なし（残日数フル保有）
3. **失効予定**: 来年の失効予定日確認

#### C. 伝言板での活動
1. **投稿実績**: 売上20万円達成の報告投稿
2. **リアクション活動**: 複数の投稿にリアクション済み
3. **コミュニケーション**: 職場の活発な交流を示す

### 🔧 特殊ケース確認用アカウント

#### **森重文** (worker03@example.com / motitasu) - 新人パターン
1. **最近入社**: 2024年10月1日入社（まだ1ヶ月未満）
2. **有給未付与**: 入社6ヶ月後まで付与なし状態
3. **週3日勤務**: パートタイムの短時間勤務
4. **ランキング未参加**: まだランキングに参加していない状態

#### **山下真由子** (worker04@example.com / motitasu) - 未来入社パターン
1. **未来の入社日**: 2025年4月1日設定（システムの日付処理テスト用）
2. **エラーハンドリング**: 異常な日付でのシステム動作確認
3. **週2日勤務**: 最小限の勤務パターン

### 📊 データ検証用アカウント：**広中平祐** (worker02@example.com / motitasu)
#### A. 中間的なデータパターン
1. **入社半年**: 2024年4月入社で適度な勤務実績
2. **週4日勤務**: フルタイムとパートの中間
3. **ランキング3位**: 64時間で中位のポジション
4. **有給初回付与**: 10月1日に初回付与予定（タイミング確認用）

## システム動作確認ポイント

### 🕐 打刻システム
- **時刻同期**: リアルタイム時計の正確性
- **状態管理**: 出勤→休憩→退勤の状態遷移
- **時間計算**: 勤務時間から休憩時間の正確な控除
- **日付跨ぎ**: 深夜勤務時の日付処理

### 📅 ダッシュボード
- **カレンダー表示**: 月間勤務日の視覚的表示
- **統計計算**: 労働時間・給与の正確な集計
- **目標達成率**: 設定目標に対する達成度
- **レスポンシブ**: モバイル・タブレット対応

### 💰 給与・有給計算
- **有給付与**: 入社日・出勤率に基づく自動計算
- **残日数管理**: 使用・失効を考慮した正確な残日数
- **時給計算**: 労働時間×時給の給与計算
- **目標設定**: 個人別の月収目標管理

### 💬 伝言板機能
- **投稿順序**: ピン留め優先の正しいソート
- **リアクション**: リアルタイムでの反応数更新
- **匿名機能**: show_nameフラグによる表示切替
- **ピン留め**: 期限付きピン留めの自動解除

### 🏆 ランキングシステム
- **順位計算**: 同順位処理を含む正確な順位付け
- **参加制御**: 月初10日間の参加期間制限
- **データ更新**: リアルタイムでのランキング反映
- **プライバシー**: 参加・非参加の選択制

## 期待される効果
1. **完全機能体験**: 全ての機能を実際のデータで操作
2. **リアルな業務感**: 実際の職場を想定したデータ設計
3. **インタラクティブデモ**: 参加者が直接操作可能
4. **エラーケース確認**: 異常系の動作も含めた完全テスト
5. **スケーラビリティ確認**: 複数ユーザー・大量データでの性能
6. **ユーザビリティ検証**: 実用性の高いUI/UX確認

